{% extends "decision/base.html" %}
{% load static %}
{% block content %}
    <!--
    ================================================================================
    Javascript for survey input validation
    ================================================================================
    -->
    <script>
        $(".readonly").keydown(function (e) {
            e.preventDefault();
        });
    </script>

     <h1>
         <!--
        ================================================================================
        Timer that displays time elapsed since beginning of Trauma
        ================================================================================
        -->
	    <div class="container" id="timer">
           <label id="hours">00</label>:<label id="minutes">00</label>:<label id="seconds">00</label>
        <!--
        ================================================================================
        Javascript to create new timer for current session

        This script uses session storage variables to ensure that the time elapsed
        being displayed on the screen remain persistent with user navigation. If the user
        starts a session, let's it run for a bit, navigates away from the page, and then
        comes back the time elapsed is still accurate.
        ================================================================================
        -->

        <script >
            /*
                If a new session has been started the total seconds elapsed is set to 0,
                the start time is set to the current system time, and a new timer is started.
                These values are then stored in web storage to be accesses later.
             */
            if (sessionStorage.getItem('session_start') === null){
                var start = new Date().getTime();
                var totSeconds = 0;
                var navTime = 0;
                var visTimer = new VisualTimer(start, totSeconds, navTime);
                sessionStorage.setItem('session_start', start.toString());
                sessionStorage.setItem('total_seconds', totSeconds.toString());
                sessionStorage.setItem('nav_time', navTime.toString());
                setInterval(startVisTimer, 1000);
            }

            /*
                If this is not a new session, the total seconds and start time are found
                in session storage and used to create a new timer that is identical to the
                old one. This ensure all data is preserved.
             */
            else {
                var totSeconds = parseInt(sessionStorage.getItem('total_seconds'), 10);
                var start = parseInt(sessionStorage.getItem('session_start'), 10);
                var navTime = parseInt(sessionStorage.getItem('nav_time'), 10);

                var visTimer = new VisualTimer(start, totSeconds, navTime);
                setInterval(startVisTimer, 1000);
            }

            /*
                This function is repeated every second while the timer is running. It is
                responsible for changing the timer displayed on the UI and saving the
                updated total seconds elapsed to session storage. This ensures that this
                value is always up to date as the user could navigate away from the page
                at any time.
             */
            function startVisTimer(){
                visTimer.timerAnimate();
                sessionStorage.setItem('total_seconds', (visTimer.totalSeconds).toString());

                /*
                    This simply saves the current time to ensure that we know exactly when the
                    user navigated away from the page. When the user navigates back to the page
                    this value will be used to calculate an accurate "total seconds" compensating
                    for the time spent away from the page.
                 */
                var navTime = new Date().getTime();
                console.log(navTime);
                sessionStorage.setItem('nav_time', navTime.toString());
            }
        </script>
        </div>
     </h1>
    <br>

    <hr>
    <br>


	<div class="sidenav">
	  	<center>
	  		<button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
	  			<a href="#A">A</a>
        	</button>

			<button class="btn btn-link" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                <a href="#B">B</a>
            </button>

            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseThree">
                <a href="#C">C</a>
            </button>

            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseFour" aria-expanded="true" aria-controls="collapseFour">
                <a href="#D">D</a>
            </button>

            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseFive" aria-expanded="true" aria-controls="collapseFive">
                <a href="#E">E</a>
            </button>
		</center>
	</div>

    <div id="accordion"> <!-- Accordion container with card layout -->

        <!--
        ================================================================================
        Airway Checklist

        - A table was used to organize the steps of Airway in a vertical fashion. Buttons
          were added next to each step according to the sample UI for future timer
          functionality. It serves as a very basic layout for Airway.
        ================================================================================
        -->
        <div class="card">
            <div class="card-header" id="headingOne">
                <h5 class="mb-0">
                    <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true"
                            aria-controls="collapseOne">
                        <h3><b>A</b>irway</h3>
                    </button>
                </h5>
            </div>

            <div id="collapseOne" class="collapse hide" aria-labelledby="headingOne" data-parent="#accordion">
                <div class="card-body">
                	<a id="A">
                    <form> <!-- Container for table contents -->
                        <div class="container">

                            <div class="row justify-content-left">
                                <table class="table">
                                    <tbody>

                                    <!-- Oxygen Supplementation -->
                                    <tr bgcolor="00a9ce">
                                        <td style="vertical-align: middle"><h4>Oxygen Supplementation</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-dark">Stopped</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Bag Mask -->
                                    <tr bgcolor="#3CBDD9">
                                        <td style="vertical-align: middle"><h4>Bag Mask</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-dark">Stopped</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- LMA -->
                                    <tr bgcolor="#74D0E4">
                                        <td style="vertical-align: middle"><h4>LMA</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-secondary">Achieved</button>
                                                <button type="button" class="btn btn-dark">Removed</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Endotracheal Tube -->
                                    <tr bgcolor="ABE3EF">
                                        <td style="vertical-align: middle"><h4>Endotracheal Tube</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-secondary">Achieved</button>
                                                <button type="button" class="btn btn-dark">Removed</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Difficult Airway -->
                                    <tr bgcolor="C7ECF4">
                                        <td style="vertical-align: middle"><h4>Difficult Airway</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-secondary">Achieved</button>
                                                <button type="button" class="btn btn-dark">Removed</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Surgical Airway -->
                                    <tr bgcolor="E3F6FA">
                                        <td style="vertical-align: middle"><h4>Surgical Airway</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-secondary">Achieved</button>
                                                <button type="button" class="btn btn-dark">Removed</button>
                                            </div>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </form>
                	</a>
                </div>
            </div>
        </div>
        <!--
        ================================================================================
        Breathing Checklist
        ================================================================================
        -->
        <div class="card">
            <div class="card-header" id="headingTwo">
                <h5 class="mb-0">
                    <button class="btn btn-link" data-toggle="collapse" data-target="#collapseTwo"
                            aria-expanded="true"
                            aria-controls="collapseTwo">
                        <h3><b>B</b>reathing</h3>
                    </button>
                </h5>
            </div>

            <div id="collapseTwo" class="collapse hide" aria-labelledby="headingTwo" data-parent="#accordion">
                <div class="card-body">

                    <form> <!-- Container for table contents -->
                        <div class="container">

                            <div class="row justify-content-left">
                                <table class="table">
                                    <tbody>

                                    <!-- Placeholder for content, copy for more cells -->
                                    <tr bgcolor="2F832E"> <!-- Breathing Patent -->
                                        <td style="vertical-align: middle"><h4>Breating Patent</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-dark">Stopped</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr bgcolor="21A11F"> <!-- Adequate Ventilation -->
                                        <td style="vertical-align: middle"><h4>Adequate Ventilation</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-secondary">Achieved</button>
                                                <button type="button" class="btn btn-dark">Stopped</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr bgcolor="2FB52D"> <!-- Chest Tube Placement -->
                                        <td style="vertical-align: middle"><h4>Chest Tube Placement</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-secondary">Achieved</button>
                                                <button type="button" class="btn btn-dark">Stopped</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr bgcolor="2DCF2A"> <!-- Chest X-ray-->
                                        <td style="vertical-align: middle"><h4>Chest x-ray</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-secondary">Achieved</button>
                                                <button type="button" class="btn btn-dark">Stopped</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr bgcolor="7DF17B"> <!-- Aterial Blood Gas -->
                                        <td style="vertical-align: middle"><h4>Aterial Blood Gas</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-secondary">Achieved</button>
                                                <button type="button" class="btn btn-dark">Stopped</button>
                                            </div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </form>

                </div>
            </div>
        </div>



        <!--
        ================================================================================
        Circulation Checklist
        ================================================================================
        -->
        <div class="card">
            <div class="card-header" id="headingThree">
                <h5 class="mb-0">
                    <button class="btn btn-link" data-toggle="collapse" data-target="#collapseThree"
                            aria-expanded="true"
                            aria-controls="collapseThree">
                        <h3><b>C</b>irculation</h3>
                    </button>
                </h5>
            </div>

            <div id="collapseThree" class="collapse hide" aria-labelledby="headingThree"
                 data-parent="#accordion">
                <div class="card-body">

                    <form> <!-- Container for table contents -->
                        <div class="container">

                            <div class="row justify-content-left">
                                <table class="table">
                                    <tbody>

                                   <!-- Level of Consciousness -->
                                    <tr bgcolor="#a448ff">
                                        <td style="vertical-align: middle"><h4>Level of Consciousness</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-dark">Complete</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Skin Color -->
                                    <tr bgcolor="#b66cff">
                                        <td style="vertical-align: middle"><h4>Skin Color</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-dark">Complete</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Central Pulse -->
                                    <tr bgcolor="#c890ff">
                                        <td style="vertical-align: middle"><h4>Central Pulse</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-dark">Recorded</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Sites of Rapid Blood Loss -->
                                    <tr bgcolor="#dab4ff">
                                        <td style="vertical-align: middle"><h4>Sites of rapid blood loss</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated</button>
                                                <button type="button" class="btn btn-dark">Complete</button>
                                            </div>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </form>

                </div>
            </div>
        </div>
        <!--
        ================================================================================
        Disability Checklist
        ================================================================================
        -->
        <div class="card">
            <div class="card-header" id="headingFour">
                <h5 class="mb-0">
                    <button class="btn btn-link" data-toggle="collapse" data-target="#collapseFour"
                            aria-expanded="true"
                            aria-controls="collapseFour">
                        <h3><b>D</b>isability</h3>
                    </button>
                </h5>
            </div>

            <div id="collapseFour" class="collapse hide" aria-labelledby="headingFour"
                 data-parent="#accordion">
                <div class="card-body">

                    <form> <!-- Container for table contents -->
                        <div class="container">

                            <div class="row justify-content-left">
                                <table class="table">
                                    <tbody>

                                    <tr bgcolor="#F2A900"> <!-- Optimize ABC -->
                                        <td style="vertical-align: middle"><h4>Optimize ABC</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated
                                                </button>
                                                <button type="button" class="btn btn-dark">Complete</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- AVPU Assessment -->
                                    <tr bgcolor="#F5BE40">
                                        <td style="vertical-align: middle"><h4>AVPU Assessment</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated
                                                </button>
                                                <button type="button" class="btn btn-dark">Complete</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Drug Chart Review -->
                                    <tr bgcolor="#F7C960">
                                        <td style="vertical-align: middle"><h4>Drug Chart Review</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated
                                                </button>
                                                <button type="button" class="btn btn-dark">Complete</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Pupil Assessment -->
                                    <tr bgcolor="#F8D480">
                                        <td style="vertical-align: middle"><h4>Pupil Assessment</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated
                                                </button>
                                                <button type="button" class="btn btn-dark">Complete</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Glucose Level Assessment -->
                                    <tr bgcolor="#FADF9F">
                                        <td style="vertical-align: middle"><h4>Glucose Level Assessment</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated
                                                </button>
                                                <button type="button" class="btn btn-dark">Complete</button>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- Movement Assessment -->
                                    <tr bgcolor="#FCE9BF">
                                        <td style="vertical-align: middle"><h4>Movement Assessment</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated
                                                </button>
                                                <button type="button" class="btn btn-dark">Complete</button>
                                            </div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </form>

                </div>
            </div>
        </div>
        <!--
        ================================================================================
        Exposure Checklist
        ================================================================================
        -->
        <div class="card">
            <div class="card-header" id="headingFive">
                <h5 class="mb-0">
                    <button class="btn btn-link" data-toggle="collapse" data-target="#collapseFive"
                            aria-expanded="true"
                            aria-controls="collapseFive">
                        <h3><b>E</b>xposure</h3>
                    </button>
                </h5>
            </div>

            <div id="collapseFive" class="collapse hide" aria-labelledby="headingFive"
                 data-parent="#accordion">
                <div class="card-body">

                    <form> <!-- Container for table contents -->
                        <div class="container">

                            <div class="row justify-content-left">
                                <table class="table">
                                    <tbody>

                                    <!-- Placeholder for content, copy for more cells -->
                                    <tr bgcolor="gray">
                                        <td style="vertical-align: middle"><h4>Insert Content</h4></td>
                                        <td>
                                            <div class="btn-group-vertical" role="group">
                                                <button type="button" class="btn btn-light">Initiated
                                                </button>
                                                <button type="button" class="btn btn-dark">Stopped
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>

        <!--
        ================================================================================
        Leaving this here in case deleting it messes up another function
        ================================================================================
        -->

        {% for post in posts %}
            <article class="media content-section">
                <div class="media-body">
                    <div class="article-metadata">
                        <a class="mr-2" href="#">{{ post.author }}</a>
                        <small class="text-muted">{{ post.date_posted|date:"F d, Y" }}</small>
                    </div>
                    <h2><a class="article-title" href="#">{{ post.title }}</a></h2>
                    <p class="article-content">{{ post.content }}</p>
                </div>
            </article>
        {% endfor %}
{% endblock content %}
